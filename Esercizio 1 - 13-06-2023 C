#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include "aux.h"


int controlla_doppioni(Mat *m,int row,int col,int value){
  	for(int i=0;i<row+1;i++){
      for(int j=0;j<col;j++){
        if(m->mat[i][j]==value && i%2==0) return 1;  
        else if(m->mat[i][j]==value && i%2!=0) return 0;
    	}
    }
  return 0;
}
  

Mat *copia_mat(Mat* m){
  Mat *ris=mat_alloc(m->rows,m->cols);
  for(int i=0;i<m->rows;i++){
    for(int j=0;j<m->cols;j++){
      ris->mat[i][j]=m->mat[i][j];
    }
  }
  return ris; 
}



Mat * prima_gli_unici(Mat *m){
  Mat* ris=copia_mat(m);
  for(int i=0;i<m->rows;i++){
    for(int j=0;j<m->cols;j++){
      printf("riga %d colonna %d elem %d\n ", i,j,m->mat[i][j]);
      if (controlla_doppioni(m,i,j,m->mat[i][j])==1){
        printf("%d ",m->mat[i][j]);
        ris->mat[i][j]=-2;
      }
      else if (controlla_doppioni(m,i,j,m->mat[i][j])==0){
        printf("%d ",m->mat[i][j]);
        ris->mat[i][j]=-1;
      }
    	}
  }
  return ris;
}
